<div *ngIf="cargandoHistorial" class="flex justify-center items-center h-screen">
  <div class="w-16 h-16 border-4 border-black border-dashed rounded-full animate-spin"></div>
</div>

<div *ngIf="!cargandoHistorial">

<div class="max-w-4xl mx-auto p-4">
  <h2 class="text-2xl font-bold text-gray-900 mb-6">Historial de Pedidos</h2>
  <div class="overflow-x-auto bg-white shadow-xl rounded-lg border border-gray-200">
    <table class="w-full border-collapse">
      <thead>
      <tr class="bg-black text-white">
        <th class="px-6 py-3 text-sm font-medium tracking-wider">ID</th>
        <th class="px-6 py-3 text-sm font-medium tracking-wider">Fecha</th>
        <th class="px-6 py-3 text-sm font-medium tracking-wider">Total (â‚¬)</th>
        <th class="px-6 py-3 text-sm font-medium tracking-wider">Estado</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let pedido of pedidos" class="border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150">
        <td class="px-6 py-4 text-center text-gray-800">{{ pedido.id }}</td>
        <td class="px-6 py-4 text-center text-gray-800">{{ pedido.fecha }}</td>
        <td class="px-6 py-4 text-center font-semibold text-gray-900">{{ pedido.total | currency:'EUR' }}</td>
        <td class="px-6 py-4 text-center">
            <span class="px-3 py-1 rounded-full text-xs font-medium"
                  [ngClass]="{
                    'bg-gray-900 text-white': pedido.estado === Estado.COMPLETADO,
                    'bg-gray-200 text-gray-800': pedido.estado === Estado.PENDIENTE,
                    'bg-gray-800 text-gray-100': pedido.estado === Estado.CANCELADO
                  }">
              {{ pedido.estado }}
            </span>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
</div>
