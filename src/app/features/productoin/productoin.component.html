<div class="w-full min-h-screen bg-white flex justify-center items-start p-10">
  <div class="max-w-7xl w-full flex flex-col md:flex-row gap-16 items-start">
    <!-- Galería de imágenes -->
    <div class="grid grid-cols-2 gap-2 w-[55%] mr-auto">
      <img
        *ngFor="let img of producto?.imagenes"
        [src]="img ?? ''"
        alt="Imagen del producto"
        class="w-full h-[500px] object-cover rounded-none shadow-lg"
      />
    </div>

    <!-- Información del producto -->
    <div class="w-[40%] flex flex-col justify-start ml-auto pr-10">
      <h1 class="text-4xl font-semibold text-gray-900">{{ producto?.nombre ?? '' }}</h1>
      <p class="text-2xl text-gray-700 mt-4">{{ producto?.precio ?? '' }}€</p>

      <!-- Selector de tallas -->
      <div class="mt-6">
        <p class="text-gray-600 font-medium text-xl">Tallas</p>
        <div class="flex gap-4 mt-3 flex-wrap">
          <button
            *ngFor="let talla of ['XS', 'S', 'M', 'L', 'XL', 'XXL']"
            (click)="seleccionarTalla(talla)"
            class="px-6 py-3 border rounded-lg text-gray-700 bg-gray-200 transition hover:bg-gray-300 text-xl"
            [ngClass]="{ 'bg-gray-900 text-white': talla === tallaSeleccionada }"
          >
            {{ talla }}
          </button>
        </div>
      </div>

      <!-- Descripción -->
      <p class="mt-6 text-gray-600 text-xl leading-relaxed">{{ producto?.descripcion ?? '' }}</p>

      <!-- Selector de cantidad y botón de carrito -->
      <div class="flex items-center mt-10 gap-8">
        <div class="flex items-center border rounded-lg bg-gray-200 px-4 py-3">
          <button (click)="cambiarCantidad(-1)" class="px-6 py-3 text-gray-700 text-xl">-</button>
          <span class="px-8 text-2xl text-gray-700">{{ cantidad }}</span>
          <button (click)="cambiarCantidad(1)" class="px-6 py-3 text-gray-700 text-xl">+</button>
        </div>
        <button
          class="px-10 py-4 bg-gray-900 text-white rounded-lg shadow-lg hover:bg-gray-800 transition text-2xl"
        >
          Agregar al carrito
        </button>
      </div>

      <!-- Valoración -->
      <p class="mt-10 text-gray-500 text-lg">
        Ayúdanos a mejorar ¡Valora el Producto!
      </p>

      <div class="mt-6">
        <p class="text-gray-600 font-medium text-xl">Deja tu valoración</p>

        <!-- Estrellas -->
        <div class="flex gap-2 mt-2">
    <span *ngFor="let star of [1,2,3,4,5]"
          (click)="seleccionarEstrellas(star)"
          class="cursor-pointer text-3xl"
          [class.text-yellow-500]="star <= estrellasSeleccionadas"
          [class.text-gray-300]="star > estrellasSeleccionadas">★</span>
        </div>

        <!-- Comentario -->
        <textarea [(ngModel)]="comentario" class="w-full border p-3 rounded-lg mt-3"
                  rows="3" placeholder="Escribe tu opinión..."></textarea>

        <!-- Botón enviar -->
        <button (click)="enviarValoracion()" class="px-6 py-3 bg-gray-900 text-white rounded-lg mt-3">
          Enviar Valoración
        </button>
      </div>

      <!-- Mostrar valoraciones previas -->
      <div class="mt-10">
        <p class="text-gray-600 font-medium text-xl">Valoraciones de otros clientes</p>
        <div *ngFor="let val of valoraciones" class="mt-4 p-4 border rounded-lg bg-gray-100">
          <p class="text-yellow-500 text-lg">
            {{ '★'.repeat(val.estrellas) }}{{ '☆'.repeat(5 - val.estrellas) }}
          </p>
          <p class="text-gray-800">{{ val.valoracion }}</p>
          <p class="text-gray-500 text-sm">{{ val.fecha }}</p>
        </div>
      </div>

    </div>
  </div>
</div>
