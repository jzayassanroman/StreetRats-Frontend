<div class="w-full min-h-screen bg-white flex justify-center items-center p-6">
  <div class="max-w-6xl w-full flex flex-col md:flex-row gap-10">
    <!-- Galería de imágenes -->
    <div class="grid grid-cols-2 gap-4 flex-1">
      <img
        *ngFor="let img of producto?.imagenes"
        [src]="img ?? ''"
        alt="Imagen del producto"
        class="w-full h-[400px] object-cover rounded-lg shadow"
      />
    </div>

    <!-- Información del producto -->
    <div class="flex-1">
      <h1 class="text-3xl font-semibold text-gray-900">{{ producto?.nombre ?? '' }}</h1>
      <p class="text-xl text-gray-700 mt-2">{{ producto?.precio ?? '' }}€</p>

      <!-- Selector de tallas -->
      <div class="mt-6">
        <p class="text-gray-600 font-medium text-lg">Tallas</p>
        <div class="flex gap-3 mt-3">
          <button
            *ngFor="let talla of ['XS', 'S', 'M', 'L', 'XL', 'XXL']"
            (click)="seleccionarTalla(talla)"
            class="px-5 py-2 border rounded-lg text-gray-700 bg-gray-200 transition hover:bg-gray-300"
            [ngClass]="{ 'bg-gray-900 text-white': talla === tallaSeleccionada }"
          >
            {{ talla }}
          </button>
        </div>
      </div>

      <!-- Descripción -->
      <p class="mt-5 text-gray-600 text-lg">{{ producto?.descripcion ?? '' }}</p>

      <!-- Selector de cantidad y botón de carrito -->
      <div class="flex items-center mt-8 gap-6">
        <div class="flex items-center border rounded-lg bg-gray-200 px-3 py-2">
          <button (click)="cambiarCantidad(-1)" class="px-4 py-2 text-gray-700">-</button>
          <span class="px-6 text-lg text-gray-700">{{ cantidad }}</span>
          <button (click)="cambiarCantidad(1)" class="px-4 py-2 text-gray-700">+</button>
        </div>
        <button (click)="agregarAlCarrito()" class="px-8 py-3 bg-gray-900 text-white rounded-lg shadow-lg hover:bg-gray-800 transition text-lg">
          Agregar al carrito
        </button>
      </div>

      <!-- Valoración -->
      <p class="mt-8 text-gray-500 text-md">
        Ayúdanos a mejorar ¡Valora el Producto!
      </p>

      <div class="mt-6">
        <p class="text-gray-600 font-medium text-xl">Deja tu valoración</p>

        <!-- Estrellas -->
        <div class="flex gap-2 mt-2">
    <span *ngFor="let star of [1,2,3,4,5]"
          (click)="seleccionarEstrellas(star)"
          class="cursor-pointer text-3xl"
          [class.text-yellow-500]="star <= estrellasSeleccionadas"
          [class.text-gray-300]="star > estrellasSeleccionadas">★</span>
        </div>

        <!-- Comentario -->
        <textarea [(ngModel)]="comentario" class="w-full border p-3 rounded-lg mt-3"
                  rows="3" placeholder="Escribe tu opinión..."></textarea>

        <!-- Botón enviar -->
        <button (click)="enviarValoracion()" class="px-6 py-3 bg-gray-900 text-white rounded-lg mt-3">
          Enviar Valoración
        </button>
      </div>

      <!-- Mostrar valoraciones previas -->
      <div class="mt-10">
        <p class="text-gray-600 font-medium text-xl">Valoraciones de otros clientes</p>
        <div *ngFor="let val of valoraciones" class="mt-4 p-4 border rounded-lg bg-gray-100">
          <p class="text-yellow-500 text-lg">
            {{ '★'.repeat(val.estrellas) }}{{ '☆'.repeat(5 - val.estrellas) }}
          </p>
          <p class="text-gray-800">{{ val.valoracion }}</p>
          <p class="text-gray-500 text-sm">{{ val.fecha }}</p>
        </div>
      </div>

    </div>
  </div>
</div>
